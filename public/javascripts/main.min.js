$(document).ready(function(){function e(e){console.log("Updating preview content !"),$("#previewContent").attr("src",e+"?"+(new Date).getTime()),s=!0}function t(e){console.log(e),e=e.replace(/(?:\r\n|\r|\n)/g,"<br />"),$("#decodeContent").html(e),r(!1)}function o(){var e=$("#blur"),t=$("#constant"),o=$("#max-threshold"),n=$("#matrix-size"),r=$("#reverse-threshold"),i=$("#isolate");return{blur:e.val(),"const":t.val(),thresh:o.val(),matrix:n.val(),revert:r.is(":checked"),isolate:i.is(":checked")}}function n(e){var t=$("#preview-progress");t.show(),t.find(">:first-child").width(e+"%")}function r(e){var t=$("#ocr-progress");e===!0?t.show():t.hide()}function i(){0!=s&&a.emit("preview",o())}function c(){a.emit("decode",o()),r(!0)}var a=io("http://localhost:4250"),s=!0;a.on("updatePreviewStatus",n),a.on("updateDecodeStatus",r),a.on("updatePreview",e),a.on("updateDecode",t),$("#decode").click(c),$("#preview").click(i)});